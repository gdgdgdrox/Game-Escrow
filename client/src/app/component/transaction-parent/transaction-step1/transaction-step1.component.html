<h3>Step 1</h3>
<div>
  <form [formGroup]="form" (ngSubmit)="processNewTransaction()">
    <!-- TO DO: disable form if step 1 already completed -->
    <!-- <fieldset> -->
      <div>
        <p>I am</p>
        <mat-button-toggle-group
          appearance="standard"
          exclusive
          formControlName="transactionType"
        >
          <mat-button-toggle value="buy">Buying</mat-button-toggle>
          <mat-button-toggle value="sell">Selling</mat-button-toggle>
        </mat-button-toggle-group>
      </div>
      <!-- Game Selection -->
      <mat-form-field appearance="fill">
        <mat-label>Select Game</mat-label>
        <mat-select formControlName="gameID">
          @for (game of games; track game.gameID){
          <mat-option [value]="game.gameID">
            {{ game.gameName }}
          </mat-option>
          }
        </mat-select>
      </mat-form-field>
  
      <!-- Asset selection -->
      @if(selectedGame){
        <mat-form-field appearance="fill">
        <mat-label for="gameAsset">Game Asset Type:</mat-label>
        <mat-select name="gameAsset" id="gameAsset" formControlName="assetType">
          <mat-option value=""  disabled >See</mat-option>
          @for(gameAsset of selectedGame.gameAssets; track gameAsset){
          <mat-option [value]="gameAsset.assetType">{{ gameAsset.assetType }}</mat-option>
          }
        </mat-select>
      </mat-form-field>
      }
      <br>
      @if(selectedAsset){
        <mat-label for="gameAssetUnit">{{selectedAsset.assetUnit}}</mat-label>
        @if (selectedAsset.assetUnit === 'quantity'){
          <input type="text" id="gameAssetUnit" formControlName='assetQuantity'>
        }
        @else if (selectedAsset.assetUnit === 'name'){
          <input type="text" id="gameAssetUnit" formControlName='assetName'>
        }
        <br>
        <mat-label for="price">for </mat-label>
        <input type="number" id="price" formControlName="price">
        <br>
        <mat-label for="counterparty">with </mat-label>
        <input type="text" id="counterparty" formControlName="counterparty">
      }
  
      <button mat-raised-button color="primary" type="submit" 
      [disabled]="isProcessing"
      >Submit</button>
    <!-- </fieldset> -->
</form>
</div>
  <button type="button" [routerLink]="['/home']">home</button>
  <div>
    <p>{{createTransactionStatusMessage}}</p>
  </div>